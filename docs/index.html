---

title: task_substitution

keywords: fastai
sidebar: home_sidebar

summary: "Solve an auxiliary task using ML."
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: index.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Task Substitution</strong> is a method of solving an auxiliary problem ( with different features and different target ) in order to better understand the initial problem and solving it efficiently.</p>
<p>Let's take a look at standard machine learning task, in the figure below you see a regression task with features <code>f1</code>, <code>f2</code>, <code>f3</code> and target variable <code>y</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include image.html height="100/" max-width="200" file="/task_substitution/images/training_set.png" %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We want to build on a model on the above dataset to predict for unknown <code>y</code> values in the test dataset shown below.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include image.html height="100/" max-width="200" file="/task_substitution/images/test.png" %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Exploratory-Data-Analysis">Exploratory Data Analysis<a class="anchor-link" href="#Exploratory-Data-Analysis">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We start off looking at the data itself and look for relationships of different features among themselves and with the target variable. There can be many features with <em>missing values</em> or <em>outliers</em> which needs to be understood. It is possible that there is a relationship between a missing value and values of other features.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Recover-Missing-Values">Recover Missing Values<a class="anchor-link" href="#Recover-Missing-Values">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It is possible for a feature to have a missing value, it could be a data recording issue or bug etc. Often times for numerical features we replace missing value with <code>mean</code> or <code>median</code> value as a approximation. Sometimes we replace missing value with values like <code>-9999</code> so that model treats them differently or sometimes we leave them as is as libraries like <code>xgboost</code> and <code>lightgbm</code> can handle <code>nulls</code>. Let's look at following dataset</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include image.html height="100/" max-width="200" file="/task_substitution/images/missing_full.png" %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here we have a feature <code>f3</code> with missing values, this is a numerical feature, what we can do is that we can consider <code>f3</code> as target feature and reframe this as regresion problem where we try to predict for missing values.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include image.html height="100/" max-width="200" file="/task_substitution/images/missing_train.png" %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include image.html height="100/" max-width="200" file="/task_substitution/images/missing_test.png" %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The above setup is identical to the original regression task, here we would build a model to use <code>f1</code> and <code>f2</code> to predict for <code>f3</code>. So instead of using <code>mean</code>, <code>median</code> etc. we can build a model to restore missing values which can help us solve the original problem efficiently.</p>
<p>We have to be careful to not overfit when building such models.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Install">Install<a class="anchor-link" href="#Install">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>pip install your_project_name</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-to-use">How to use<a class="anchor-link" href="#How-to-use">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Fill me in please! Don't forget code examples:</p>

</div>
</div>
</div>
</div>
 

